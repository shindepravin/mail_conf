# Main configuration based on http://www.physics.drexel.edu/liki/index.php/Mutt

set folder = ~/.mail
source ~/.mail_config/mutt/muttmailboxes
set spoolfile = +"ethz/INBOX"

set sort=threads
set sort_aux=last-date-received

source ~/.mail_config/mutt/common
#source ~/.mail_config/mutt/colors

# Not using alias to store addresses now,
# using lbdb
#set alias_file=~/.mail_config/mutt/aliases
#source $alias_file
set query_command="lbdbq '%s'"
source ~/.mail_config/mutt/pgp

# if we are in any directory starting with the following, pull
# specific settings from somewhere else
folder-hook +ethz/.* "source ~/.mail_config/mutt/ethz"
folder-hook +gmail/.* "source ~/.mail_config/mutt/gmail"

# Mutt will mark emails from these addresses as having been sent by you
alternates shindep@inf.ethz.ch pravin@inf.ethz.ch shindepravin@gmail.com

set query_command="abook --mutt-query '%s'"
#macro pager A |'abook --add-email'\n

macro index,pager A "<pipe-message>abook --add-email<return>" "add the sender address to abook"
#macro index,pager A "<pipe-message>abook --add-email-quiet<return>" "add the sender address to abook"

# All the macros we have defined
source ~/.mail_config/mutt/macros

